" Autoreload .vimrc
autocmd! bufwritepost .vimrc source %
call pathogen#infect()

" Always put status line at the 2nd to last line
set laststatus=2
" Modifying status line look
set statusline=%-(%F%m%r%h%w%)\ %{&ff}/%Y/%{&encoding}\ %=%(@\%03.3b\ %Ll\ %l,%v\ (%p%%)%)
" show how many lines are highlighted in visual mode
set showcmd
" show the line and column number of the cursor position
set ruler

" No wrap the lines
set nowrap

" Err, backup files locations
set backup
set backupdir=/tmp
set directory=/tmp

" Allow syntax highlighting
syntax on

"set the gui options the way I like
"set guioptions=ac
if has('gui_running')

  set guioptions-=T " hide toolbar in gui mode
  "MacOS font
  "set guifont=monaco:h10
  "Windows Font
  set guifont=menlo:h11
  "ttf-inconsolata
  "set guifont=Inconsolata\ 10
  "xfonts-jmk
  "  $ sudo rm /etc/fonts/conf.d/70-no-bitmaps.conf
  "  $ sudo fc-cache -f -v
  "set guifont=Neep\ 18
  "ttf-bitstream-vera
  "set guifont=Bitstream\ Vera\ Sans\ Mono\ 8

  " Set up the gui cursor to look nice
  set guicursor=n-v-c:block-Cursor-blinkon0
  set guicursor+=ve:ver35-Cursor
  set guicursor+=o:hor50-Cursor
  set guicursor+=i-ci:ver25-Cursor
  set guicursor+=r-cr:hor20-Cursor
  set guicursor+=sm:block-Cursor-blinkwait175-blinkoff150-blinkon175
  set cursorline

  " Set cursor line
  nnoremap ,c :set cursorline! cursorcolumn!<CR>

	" Color Schemes
  "colorscheme tir_black
  "colorscheme wuye
  "colorscheme twilight
  "colorscheme Jellybeans
  "colorscheme Darkspectrum
  "colorscheme Moria
  "colorscheme Lucius
  "colorscheme jammy
  "colorscheme earendel
  "let g:solarized_termcolors=256
  "set background=dark
  "colorscheme solarized
  "colorscheme railscasts
  colorscheme obsidian2

endif

" Show trailing white space
set list
" set listchars=tab:\xbb\xb7,trail:\xb7
" set listchars=tab:>-,trail:-
set listchars=tab:»·,trail:·

" remove the beeping
set noerrorbells
set visualbell
set vb t_vb=

" use the bells and whistles of vim
set nocompatible

" allow switching between changed buffers that haven't been saved yet
set hidden

" show the line numbers
set number

" tabs
set tabstop=2

" backspace for converted tab
set softtabstop=2

" amount of block indenting
set shiftwidth=2

" convert tabs into spaces
" set expandtab

" uses the shiftwidth instead of tabstop
set smarttab

" auto indenting when starting a new line
set smartindent

" copy indent from current line to new line
set autoindent

" line height
set linespace=2

" briefly jump to matching closing/opening bracket
set showmatch

" switch between buffers without saving, so the must save first
" error doesn't appear write the old file out when switching between files
set autowrite

" incremental search
set incsearch

" highlight search
set hlsearch

set nohls
" Turn off that stupid highlight search
nmap <silent> ,n :set invhls<CR>:set hls?<CR>

" Pressing i to insert and ii to escape
imap ii <Esc>

" Maps to make handling windows a bit easier
noremap <silent> ,nh :tabp<CR>
noremap <silent> ,nl :tabn<CR>
noremap <silent> ,h :wincmd h<CR>
noremap <silent> ,h :wincmd h<CR>
noremap <silent> ,j :wincmd j<CR>
noremap <silent> ,k :wincmd k<CR>
noremap <silent> ,l :wincmd l<CR>
noremap <silent> ,sb :wincmd p<CR>
noremap <silent> <C-F9>  :vertical resize -10<CR>
noremap <silent> <C-F10> :resize +10<CR>
noremap <silent> <C-F11> :resize -10<CR>
noremap <silent> <C-F12> :vertical resize +10<CR>
noremap <silent> ,s8 :vertical resize 83<CR>
noremap <silent> ,cj :wincmd j<CR>:close<CR>
noremap <silent> ,ck :wincmd k<CR>:close<CR>
noremap <silent> ,ch :wincmd h<CR>:close<CR>
noremap <silent> ,cl :wincmd l<CR>:close<CR>
noremap <silent> ,cc :close<CR>
noremap <silent> ,cw :cclose<CR>
noremap <silent> ,bd :bd<CR>
noremap <silent> zh :tabp<CR>
noremap <silent> zl :tabn<CR>
noremap <silent> ,ml <C-W>L
noremap <silent> ,mk <C-W>K
noremap <silent> ,mh <C-W>H
noremap <silent> ,mj <C-W>J
noremap <silent> <C-7> <C-W>>
noremap <silent> <C-8> <C-W>+
noremap <silent> <C-9> <C-W>+
noremap <silent> <C-0> <C-W>>

" Pressing Shift-< or Shift-> will let you indent/unident selected lines,
" allow it to occur multiple times in visual mode
vnoremap < <gv
vnoremap > >gv

" Buffer commands
noremap <silent> ,bd :bd<CR>

" Make horizontal scrolling easier
nmap <silent> <C-o> 10zl
nmap <silent> <C-i> 10zh

" Highlight all instances of the current word under the cursor
nmap <silent> ^ :setl hls<CR>:let @/="<C-r><C-w>"<CR>

" Search the current file for what's currently in the search
" register and display matches
nmap <silent> ,gs
     \ :vimgrep /<C-r>// %<CR>:ccl<CR>:cwin<CR><C-W>J:set nohls<CR>

" Search the current file for the word under the cursor and display matches
nmap <silent> ,gw
     \ :vimgrep /<C-r><C-w>/ %<CR>:ccl<CR>:cwin<CR><C-W>J:set nohls<CR>

" Search the current file for the WORD under the cursor and display matches
nmap <silent> ,gW
     \ :vimgrep /<C-r><C-a>/ %<CR>:ccl<CR>:cwin<CR><C-W>J:set nohls<CR>

" Swap two words
nmap <silent> gw :s/\(\%#\w\+\)\(\_W\+\)\(\w\+\)/\3\2\1/<CR>`'

" Underline the current line with '='
nmap <silent> ,ul :t.\|s/./=/g\|set nohls<cr>

" Toggle paste mode
nmap <silent> ,p :set invpaste<CR>:set paste?<CR>

" cd to the directory containing the file in the buffer
nmap <silent> ,cd :lcd %:p:h<CR>
nmap <silent> ,md :!mkdir -p %:p:h<CR>

" Turn off that stupid highlight search
nmap <silent> ,n :set invhls<CR>:set hls?<CR>

" put the vim directives for my file editing settings in
nmap <silent> ,vi
     \ ovim:set ts=2 sts=2 sw=2:<CR>vim600:fdm=marker fdl=1 fdc=0:<ESC>


" ---------------------
" Plugins shortcut keys
" ---------------------

" Close HTML5/XML Tags, closetag
nmap <silent> ,co <C-_>

" Clean up html
nmap <silent> ,tidy :! tidy -xml -utf8 -mi %:p<CR>:e<CR>

nmap <silent> ,p :NERDTreeToggle<CR>

" Search for particular file, Command-T
nmap <silent> ,t <Leader>t

let g:tagbar_usearrows = 1
nmap <silent> ,tb :TagbarToggle<CR>

" NerdCommentator
nmap <silent> ,cc <Leader>cc<CR>
nmap <silent> ,c<space> <Leader>c<space><CR>



" ---------------------
" Handling FileType
" ---------------------

" Enable file type detection including plugins and indent
filetype plugin indent on

